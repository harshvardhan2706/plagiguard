{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import api from'../api/api';import Navbar from'./Navbar';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import{Line}from'react-chartjs-2';// Register ChartJS components\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);function History(){const navigate=useNavigate();const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[uploads,setUploads]=useState([]);const[filteredUploads,setFilteredUploads]=useState([]);const[filters,setFilters]=useState({search:'',aiScoreMin:'',aiScoreMax:'',dateFrom:'',dateTo:''});useEffect(()=>{const fetchHistory=async()=>{try{var _response$data;const user=JSON.parse(localStorage.getItem('user')||'{}');if(!(user!==null&&user!==void 0&&user.id)||!(user!==null&&user!==void 0&&user.token)){navigate('/login');return;}const response=await api.get(`/api/files/history/${user.id}`);console.log('History response:',response.data);if((_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.uploads){const uploads=response.data.uploads.map(upload=>({id:upload.id,fileName:upload.filename,similarityScore:upload.percentAI/100,// Convert from percentage to decimal\nuploadDate:upload.timestamp}));const sortedData=uploads.sort((a,b)=>new Date(b.timestamp).getTime()-new Date(a.timestamp).getTime());setUploads(sortedData);setFilteredUploads(sortedData);}}catch(err){var _err$response,_err$response$data;console.error('Error fetching history:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to load upload history');}finally{setLoading(false);}};fetchHistory();},[navigate]);// Apply filters whenever filters change\nuseEffect(()=>{let filtered=[...uploads];// Text search filter\nif(filters.search){const searchTerm=filters.search.toLowerCase();filtered=filtered.filter(upload=>upload.fileName.toLowerCase().includes(searchTerm));}// AI score range filter\nif(filters.aiScoreMin){filtered=filtered.filter(upload=>upload.similarityScore>=Number(filters.aiScoreMin));}if(filters.aiScoreMax){filtered=filtered.filter(upload=>upload.similarityScore<=Number(filters.aiScoreMax));}// Date range filter\nif(filters.dateFrom){filtered=filtered.filter(upload=>new Date(upload.uploadDate)>=new Date(filters.dateFrom));}if(filters.dateTo){filtered=filtered.filter(upload=>new Date(upload.uploadDate)<=new Date(filters.dateTo));}setFilteredUploads(filtered);},[filters,uploads]);// Handle filter changes\nconst handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>({...prev,[name]:value}));};// View result details\nconst handleViewResult=upload=>{navigate('/result',{state:upload});};// Get data for the trend chart\nconst getChartData=()=>{const sortedUploads=[...filteredUploads].sort((a,b)=>new Date(a.uploadDate)-new Date(b.uploadDate));return{labels:sortedUploads.map(upload=>new Date(upload.uploadDate).toLocaleDateString()),datasets:[{label:'AI Content %',data:sortedUploads.map(upload=>Math.round(upload.similarityScore*100)),borderColor:'rgb(75, 192, 192)',backgroundColor:'rgba(75, 192, 192, 0.5)',tension:0.4}]};};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0\",children:\"Upload History\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by filename\",name:\"search\",value:filters.search,onChange:handleFilterChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Min AI %\",name:\"aiScoreMin\",value:filters.aiScoreMin,onChange:handleFilterChange,min:\"0\",max:\"100\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Max AI %\",name:\"aiScoreMax\",value:filters.aiScoreMax,onChange:handleFilterChange,min:\"0\",max:\"100\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",name:\"dateFrom\",value:filters.dateFrom,onChange:handleFilterChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",name:\"dateTo\",value:filters.dateTo,onChange:handleFilterChange})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}):/*#__PURE__*/_jsx(_Fragment,{children:filteredUploads.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"No upload history found.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"AI Content Trend\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'300px'},children:/*#__PURE__*/_jsx(Line,{data:getChartData(),options:{responsive:true,maintainAspectRatio:false,scales:{y:{beginAtZero:true,max:100,title:{display:true,text:'AI Content %'}},x:{title:{display:true,text:'Upload Date'}}}}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"File Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"AI Content %\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Upload Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUploads.map((upload,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:upload.fileName}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{height:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{className:`progress-bar ${upload.similarityScore*100>70?'bg-danger':'bg-success'}`,role:\"progressbar\",style:{width:`${upload.similarityScore*100}%`},children:[Math.round(upload.similarityScore*100),\"%\"]})})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(upload.timestamp).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm\",onClick:()=>handleViewResult(upload),children:\"View Result\"})})]},upload.id||index))})]})})]})})]})]})})]});}export default History;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","api","Navbar","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Line","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","History","navigate","loading","setLoading","error","setError","uploads","setUploads","filteredUploads","setFilteredUploads","filters","setFilters","search","aiScoreMin","aiScoreMax","dateFrom","dateTo","fetchHistory","_response$data","user","JSON","parse","localStorage","getItem","id","token","response","get","console","log","data","map","upload","fileName","filename","similarityScore","percentAI","uploadDate","timestamp","sortedData","sort","a","b","Date","getTime","err","_err$response","_err$response$data","message","filtered","searchTerm","toLowerCase","filter","includes","Number","handleFilterChange","e","name","value","target","prev","handleViewResult","state","getChartData","sortedUploads","labels","toLocaleDateString","datasets","label","Math","round","borderColor","backgroundColor","tension","children","className","type","placeholder","onChange","min","max","role","length","style","height","options","responsive","maintainAspectRatio","scales","y","beginAtZero","title","display","text","x","index","width","toLocaleString","onClick"],"sources":["C:/Users/hvard/Documents/GitHub/plagiguard/plagiguard-frontend/src/components/History.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../api/api';\r\nimport Navbar from './Navbar';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\n\r\n// Register ChartJS components\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\nfunction History() {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [uploads, setUploads] = useState([]);\r\n  const [filteredUploads, setFilteredUploads] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    aiScoreMin: '',\r\n    aiScoreMax: '',\r\n    dateFrom: '',\r\n    dateTo: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchHistory = async () => {\r\n      try {\r\n        const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n        if (!user?.id || !user?.token) {\r\n          navigate('/login');\r\n          return;\r\n        }        const response = await api.get(`/api/files/history/${user.id}`);        console.log('History response:', response.data);\r\n        if (response.data?.uploads) {\r\n          const uploads = response.data.uploads.map(upload => ({\r\n            id: upload.id,\r\n            fileName: upload.filename,\r\n            similarityScore: upload.percentAI / 100, // Convert from percentage to decimal\r\n            uploadDate: upload.timestamp\r\n          }));          const sortedData = uploads.sort((a, b) => \r\n            new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\r\n          );\r\n          setUploads(sortedData);\r\n          setFilteredUploads(sortedData);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching history:', err);\r\n        setError(err.response?.data?.message || 'Failed to load upload history');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchHistory();\r\n  }, [navigate]);\r\n\r\n  // Apply filters whenever filters change\r\n  useEffect(() => {\r\n    let filtered = [...uploads];\r\n\r\n    // Text search filter\r\n    if (filters.search) {\r\n      const searchTerm = filters.search.toLowerCase();\r\n      filtered = filtered.filter(upload => \r\n        upload.fileName.toLowerCase().includes(searchTerm)\r\n      );\r\n    }\r\n\r\n    // AI score range filter\r\n    if (filters.aiScoreMin) {\r\n      filtered = filtered.filter(upload => \r\n        upload.similarityScore >= Number(filters.aiScoreMin)\r\n      );\r\n    }\r\n    if (filters.aiScoreMax) {\r\n      filtered = filtered.filter(upload => \r\n        upload.similarityScore <= Number(filters.aiScoreMax)\r\n      );\r\n    }\r\n\r\n    // Date range filter\r\n    if (filters.dateFrom) {\r\n      filtered = filtered.filter(upload =>\r\n        new Date(upload.uploadDate) >= new Date(filters.dateFrom)\r\n      );\r\n    }\r\n    if (filters.dateTo) {\r\n      filtered = filtered.filter(upload =>\r\n        new Date(upload.uploadDate) <= new Date(filters.dateTo)\r\n      );\r\n    }\r\n\r\n    setFilteredUploads(filtered);\r\n  }, [filters, uploads]);\r\n\r\n  // Handle filter changes\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // View result details\r\n  const handleViewResult = (upload) => {\r\n    navigate('/result', { state: upload });\r\n  };\r\n\r\n  // Get data for the trend chart\r\n  const getChartData = () => {\r\n    const sortedUploads = [...filteredUploads].sort((a, b) => \r\n      new Date(a.uploadDate) - new Date(b.uploadDate)\r\n    );\r\n\r\n    return {\r\n      labels: sortedUploads.map(upload => \r\n        new Date(upload.uploadDate).toLocaleDateString()\r\n      ),\r\n      datasets: [{\r\n        label: 'AI Content %',\r\n        data: sortedUploads.map(upload => Math.round(upload.similarityScore * 100)),\r\n        borderColor: 'rgb(75, 192, 192)',\r\n        backgroundColor: 'rgba(75, 192, 192, 0.5)',\r\n        tension: 0.4\r\n      }]\r\n    };\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container mt-5\">\r\n        <div className=\"card shadow-sm\">\r\n          <div className=\"card-header bg-primary text-white\">\r\n            <h4 className=\"mb-0\">Upload History</h4>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Filters */}\r\n            <div className=\"row g-3 mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Search by filename\"\r\n                  name=\"search\"\r\n                  value={filters.search}\r\n                  onChange={handleFilterChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Min AI %\"\r\n                  name=\"aiScoreMin\"\r\n                  value={filters.aiScoreMin}\r\n                  onChange={handleFilterChange}\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Max AI %\"\r\n                  name=\"aiScoreMax\"\r\n                  value={filters.aiScoreMax}\r\n                  onChange={handleFilterChange}\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control\"\r\n                  name=\"dateFrom\"\r\n                  value={filters.dateFrom}\r\n                  onChange={handleFilterChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control\"\r\n                  name=\"dateTo\"\r\n                  value={filters.dateTo}\r\n                  onChange={handleFilterChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"alert alert-danger\" role=\"alert\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            {loading ? (\r\n              <div className=\"text-center p-5\">\r\n                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                  <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {filteredUploads.length === 0 ? (\r\n                  <div className=\"alert alert-info\">\r\n                    No upload history found.\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {/* AI Content Trend Chart */}\r\n                    <div className=\"mb-4\">\r\n                      <h5>AI Content Trend</h5>\r\n                      <div style={{ height: '300px' }}>\r\n                        <Line \r\n                          data={getChartData()}\r\n                          options={{\r\n                            responsive: true,\r\n                            maintainAspectRatio: false,\r\n                            scales: {\r\n                              y: {\r\n                                beginAtZero: true,\r\n                                max: 100,\r\n                                title: {\r\n                                  display: true,\r\n                                  text: 'AI Content %'\r\n                                }\r\n                              },\r\n                              x: {\r\n                                title: {\r\n                                  display: true,\r\n                                  text: 'Upload Date'\r\n                                }\r\n                              }\r\n                            }\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Results Table */}\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-hover\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>File Name</th>\r\n                            <th>AI Content %</th>\r\n                            <th>Upload Date</th>\r\n                            <th>Actions</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {filteredUploads.map((upload, index) => (\r\n                            <tr key={upload.id || index}>\r\n                              <td>{upload.fileName}</td>\r\n                              <td>\r\n                                <div className=\"progress\" style={{ height: '20px' }}>\r\n                                  <div\r\n                                    className={`progress-bar ${\r\n                                      upload.similarityScore * 100 > 70 ? 'bg-danger' : 'bg-success'\r\n                                    }`}\r\n                                    role=\"progressbar\"\r\n                                    style={{ width: `${upload.similarityScore * 100}%` }}\r\n                                  >\r\n                                    {Math.round(upload.similarityScore * 100)}%\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                              <td>{new Date(upload.timestamp).toLocaleString()}</td>\r\n                              <td>\r\n                                <button\r\n                                  className=\"btn btn-primary btn-sm\"\r\n                                  onClick={() => handleViewResult(upload)}\r\n                                >\r\n                                  View Result\r\n                                </button>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default History;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,GAAG,KAAM,YAAY,CAC5B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,KAAK,GAAI,CAAAC,OAAO,CAAEC,aAAa,CAAEC,WAAW,CAAEC,YAAY,CAAEC,WAAW,CAAEC,KAAK,CAAEC,OAAO,CAAEC,MAAM,KAAQ,UAAU,CAC1H,OAASC,IAAI,KAAQ,iBAAiB,CAEtC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACAd,OAAO,CAACe,QAAQ,CAACd,aAAa,CAAEC,WAAW,CAAEC,YAAY,CAAEC,WAAW,CAAEC,KAAK,CAAEC,OAAO,CAAEC,MAAM,CAAC,CAE/F,QAAS,CAAAS,OAAOA,CAAA,CAAG,CACjB,KAAM,CAAAC,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACsB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAC2B,OAAO,CAAEC,UAAU,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAC6B,eAAe,CAAEC,kBAAkB,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC+B,OAAO,CAAEC,UAAU,CAAC,CAAGhC,QAAQ,CAAC,CACrCiC,MAAM,CAAE,EAAE,CACVC,UAAU,CAAE,EAAE,CACdC,UAAU,CAAE,EAAE,CACdC,QAAQ,CAAE,EAAE,CACZC,MAAM,CAAE,EACV,CAAC,CAAC,CAEFtC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,KAAAC,cAAA,CACF,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAC,CAC7D,GAAI,EAACJ,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEK,EAAE,GAAI,EAACL,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEM,KAAK,EAAE,CAC7BxB,QAAQ,CAAC,QAAQ,CAAC,CAClB,OACF,CAAS,KAAM,CAAAyB,QAAQ,CAAG,KAAM,CAAA7C,GAAG,CAAC8C,GAAG,CAAC,sBAAsBR,IAAI,CAACK,EAAE,EAAE,CAAC,CAASI,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEH,QAAQ,CAACI,IAAI,CAAC,CAChI,IAAAZ,cAAA,CAAIQ,QAAQ,CAACI,IAAI,UAAAZ,cAAA,WAAbA,cAAA,CAAeZ,OAAO,CAAE,CAC1B,KAAM,CAAAA,OAAO,CAAGoB,QAAQ,CAACI,IAAI,CAACxB,OAAO,CAACyB,GAAG,CAACC,MAAM,GAAK,CACnDR,EAAE,CAAEQ,MAAM,CAACR,EAAE,CACbS,QAAQ,CAAED,MAAM,CAACE,QAAQ,CACzBC,eAAe,CAAEH,MAAM,CAACI,SAAS,CAAG,GAAG,CAAE;AACzCC,UAAU,CAAEL,MAAM,CAACM,SACrB,CAAC,CAAC,CAAC,CAAW,KAAM,CAAAC,UAAU,CAAGjC,OAAO,CAACkC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GACjD,GAAI,CAAAC,IAAI,CAACD,CAAC,CAACJ,SAAS,CAAC,CAACM,OAAO,CAAC,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACF,CAAC,CAACH,SAAS,CAAC,CAACM,OAAO,CAAC,CAClE,CAAC,CACDrC,UAAU,CAACgC,UAAU,CAAC,CACtB9B,kBAAkB,CAAC8B,UAAU,CAAC,CAChC,CACF,CAAE,MAAOM,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZnB,OAAO,CAACxB,KAAK,CAAC,yBAAyB,CAAEyC,GAAG,CAAC,CAC7CxC,QAAQ,CAAC,EAAAyC,aAAA,CAAAD,GAAG,CAACnB,QAAQ,UAAAoB,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAchB,IAAI,UAAAiB,kBAAA,iBAAlBA,kBAAA,CAAoBC,OAAO,GAAI,+BAA+B,CAAC,CAC1E,CAAC,OAAS,CACR7C,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDc,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAAChB,QAAQ,CAAC,CAAC,CAEd;AACAvB,SAAS,CAAC,IAAM,CACd,GAAI,CAAAuE,QAAQ,CAAG,CAAC,GAAG3C,OAAO,CAAC,CAE3B;AACA,GAAII,OAAO,CAACE,MAAM,CAAE,CAClB,KAAM,CAAAsC,UAAU,CAAGxC,OAAO,CAACE,MAAM,CAACuC,WAAW,CAAC,CAAC,CAC/CF,QAAQ,CAAGA,QAAQ,CAACG,MAAM,CAACpB,MAAM,EAC/BA,MAAM,CAACC,QAAQ,CAACkB,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,UAAU,CACnD,CAAC,CACH,CAEA;AACA,GAAIxC,OAAO,CAACG,UAAU,CAAE,CACtBoC,QAAQ,CAAGA,QAAQ,CAACG,MAAM,CAACpB,MAAM,EAC/BA,MAAM,CAACG,eAAe,EAAImB,MAAM,CAAC5C,OAAO,CAACG,UAAU,CACrD,CAAC,CACH,CACA,GAAIH,OAAO,CAACI,UAAU,CAAE,CACtBmC,QAAQ,CAAGA,QAAQ,CAACG,MAAM,CAACpB,MAAM,EAC/BA,MAAM,CAACG,eAAe,EAAImB,MAAM,CAAC5C,OAAO,CAACI,UAAU,CACrD,CAAC,CACH,CAEA;AACA,GAAIJ,OAAO,CAACK,QAAQ,CAAE,CACpBkC,QAAQ,CAAGA,QAAQ,CAACG,MAAM,CAACpB,MAAM,EAC/B,GAAI,CAAAW,IAAI,CAACX,MAAM,CAACK,UAAU,CAAC,EAAI,GAAI,CAAAM,IAAI,CAACjC,OAAO,CAACK,QAAQ,CAC1D,CAAC,CACH,CACA,GAAIL,OAAO,CAACM,MAAM,CAAE,CAClBiC,QAAQ,CAAGA,QAAQ,CAACG,MAAM,CAACpB,MAAM,EAC/B,GAAI,CAAAW,IAAI,CAACX,MAAM,CAACK,UAAU,CAAC,EAAI,GAAI,CAAAM,IAAI,CAACjC,OAAO,CAACM,MAAM,CACxD,CAAC,CACH,CAEAP,kBAAkB,CAACwC,QAAQ,CAAC,CAC9B,CAAC,CAAE,CAACvC,OAAO,CAAEJ,OAAO,CAAC,CAAC,CAEtB;AACA,KAAM,CAAAiD,kBAAkB,CAAIC,CAAC,EAAK,CAChC,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChChD,UAAU,CAACiD,IAAI,GAAK,CAClB,GAAGA,IAAI,CACP,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAG,gBAAgB,CAAI7B,MAAM,EAAK,CACnC/B,QAAQ,CAAC,SAAS,CAAE,CAAE6D,KAAK,CAAE9B,MAAO,CAAC,CAAC,CACxC,CAAC,CAED;AACA,KAAM,CAAA+B,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,aAAa,CAAG,CAAC,GAAGxD,eAAe,CAAC,CAACgC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GACnD,GAAI,CAAAC,IAAI,CAACF,CAAC,CAACJ,UAAU,CAAC,CAAG,GAAI,CAAAM,IAAI,CAACD,CAAC,CAACL,UAAU,CAChD,CAAC,CAED,MAAO,CACL4B,MAAM,CAAED,aAAa,CAACjC,GAAG,CAACC,MAAM,EAC9B,GAAI,CAAAW,IAAI,CAACX,MAAM,CAACK,UAAU,CAAC,CAAC6B,kBAAkB,CAAC,CACjD,CAAC,CACDC,QAAQ,CAAE,CAAC,CACTC,KAAK,CAAE,cAAc,CACrBtC,IAAI,CAAEkC,aAAa,CAACjC,GAAG,CAACC,MAAM,EAAIqC,IAAI,CAACC,KAAK,CAACtC,MAAM,CAACG,eAAe,CAAG,GAAG,CAAC,CAAC,CAC3EoC,WAAW,CAAE,mBAAmB,CAChCC,eAAe,CAAE,yBAAyB,CAC1CC,OAAO,CAAE,GACX,CAAC,CACH,CAAC,CACH,CAAC,CAED,mBACE7E,KAAA,CAAAE,SAAA,EAAA4E,QAAA,eACEhF,IAAA,CAACZ,MAAM,GAAE,CAAC,cACVY,IAAA,QAAKiF,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC7B9E,KAAA,QAAK+E,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BhF,IAAA,QAAKiF,SAAS,CAAC,mCAAmC,CAAAD,QAAA,cAChDhF,IAAA,OAAIiF,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,gBAAc,CAAI,CAAC,CACrC,CAAC,cACN9E,KAAA,QAAK+E,SAAS,CAAC,WAAW,CAAAD,QAAA,eAExB9E,KAAA,QAAK+E,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BhF,IAAA,QAAKiF,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvBhF,IAAA,UACEkF,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBE,WAAW,CAAC,oBAAoB,CAChCpB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEhD,OAAO,CAACE,MAAO,CACtBkE,QAAQ,CAAEvB,kBAAmB,CAC9B,CAAC,CACC,CAAC,cACN7D,IAAA,QAAKiF,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvBhF,IAAA,UACEkF,IAAI,CAAC,QAAQ,CACbD,SAAS,CAAC,cAAc,CACxBE,WAAW,CAAC,UAAU,CACtBpB,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAEhD,OAAO,CAACG,UAAW,CAC1BiE,QAAQ,CAAEvB,kBAAmB,CAC7BwB,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,KAAK,CACV,CAAC,CACC,CAAC,cACNtF,IAAA,QAAKiF,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvBhF,IAAA,UACEkF,IAAI,CAAC,QAAQ,CACbD,SAAS,CAAC,cAAc,CACxBE,WAAW,CAAC,UAAU,CACtBpB,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAEhD,OAAO,CAACI,UAAW,CAC1BgE,QAAQ,CAAEvB,kBAAmB,CAC7BwB,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,KAAK,CACV,CAAC,CACC,CAAC,cACNtF,IAAA,QAAKiF,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvBhF,IAAA,UACEkF,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBlB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEhD,OAAO,CAACK,QAAS,CACxB+D,QAAQ,CAAEvB,kBAAmB,CAC9B,CAAC,CACC,CAAC,cACN7D,IAAA,QAAKiF,SAAS,CAAC,UAAU,CAAAD,QAAA,cACvBhF,IAAA,UACEkF,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBlB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEhD,OAAO,CAACM,MAAO,CACtB8D,QAAQ,CAAEvB,kBAAmB,CAC9B,CAAC,CACC,CAAC,EACH,CAAC,CAELnD,KAAK,eACJV,IAAA,QAAKiF,SAAS,CAAC,oBAAoB,CAACM,IAAI,CAAC,OAAO,CAAAP,QAAA,CAC7CtE,KAAK,CACH,CACN,CAEAF,OAAO,cACNR,IAAA,QAAKiF,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC9BhF,IAAA,QAAKiF,SAAS,CAAC,6BAA6B,CAACM,IAAI,CAAC,QAAQ,CAAAP,QAAA,cACxDhF,IAAA,SAAMiF,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,YAAU,CAAM,CAAC,CAChD,CAAC,CACH,CAAC,cAENhF,IAAA,CAAAI,SAAA,EAAA4E,QAAA,CACGlE,eAAe,CAAC0E,MAAM,GAAK,CAAC,cAC3BxF,IAAA,QAAKiF,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,0BAElC,CAAK,CAAC,cAEN9E,KAAA,CAAAE,SAAA,EAAA4E,QAAA,eAEE9E,KAAA,QAAK+E,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBhF,IAAA,OAAAgF,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBhF,IAAA,QAAKyF,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAQ,CAAE,CAAAV,QAAA,cAC9BhF,IAAA,CAACF,IAAI,EACHsC,IAAI,CAAEiC,YAAY,CAAC,CAAE,CACrBsB,OAAO,CAAE,CACPC,UAAU,CAAE,IAAI,CAChBC,mBAAmB,CAAE,KAAK,CAC1BC,MAAM,CAAE,CACNC,CAAC,CAAE,CACDC,WAAW,CAAE,IAAI,CACjBV,GAAG,CAAE,GAAG,CACRW,KAAK,CAAE,CACLC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAE,cACR,CACF,CAAC,CACDC,CAAC,CAAE,CACDH,KAAK,CAAE,CACLC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAE,aACR,CACF,CACF,CACF,CAAE,CACH,CAAC,CACC,CAAC,EACH,CAAC,cAGNnG,IAAA,QAAKiF,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAC/B9E,KAAA,UAAO+E,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAClChF,IAAA,UAAAgF,QAAA,cACE9E,KAAA,OAAA8E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBhF,IAAA,OAAAgF,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBhF,IAAA,OAAAgF,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBhF,IAAA,OAAAgF,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRhF,IAAA,UAAAgF,QAAA,CACGlE,eAAe,CAACuB,GAAG,CAAC,CAACC,MAAM,CAAE+D,KAAK,gBACjCnG,KAAA,OAAA8E,QAAA,eACEhF,IAAA,OAAAgF,QAAA,CAAK1C,MAAM,CAACC,QAAQ,CAAK,CAAC,cAC1BvC,IAAA,OAAAgF,QAAA,cACEhF,IAAA,QAAKiF,SAAS,CAAC,UAAU,CAACQ,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAAV,QAAA,cAClD9E,KAAA,QACE+E,SAAS,CAAE,gBACT3C,MAAM,CAACG,eAAe,CAAG,GAAG,CAAG,EAAE,CAAG,WAAW,CAAG,YAAY,EAC7D,CACH8C,IAAI,CAAC,aAAa,CAClBE,KAAK,CAAE,CAAEa,KAAK,CAAE,GAAGhE,MAAM,CAACG,eAAe,CAAG,GAAG,GAAI,CAAE,CAAAuC,QAAA,EAEpDL,IAAI,CAACC,KAAK,CAACtC,MAAM,CAACG,eAAe,CAAG,GAAG,CAAC,CAAC,GAC5C,EAAK,CAAC,CACH,CAAC,CACJ,CAAC,cACLzC,IAAA,OAAAgF,QAAA,CAAK,GAAI,CAAA/B,IAAI,CAACX,MAAM,CAACM,SAAS,CAAC,CAAC2D,cAAc,CAAC,CAAC,CAAK,CAAC,cACtDvG,IAAA,OAAAgF,QAAA,cACEhF,IAAA,WACEiF,SAAS,CAAC,wBAAwB,CAClCuB,OAAO,CAAEA,CAAA,GAAMrC,gBAAgB,CAAC7B,MAAM,CAAE,CAAA0C,QAAA,CACzC,aAED,CAAQ,CAAC,CACP,CAAC,GAvBE1C,MAAM,CAACR,EAAE,EAAIuE,KAwBlB,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,EACN,CACH,CACD,CACH,EACE,CAAC,EACH,CAAC,CACH,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,CAAA/F,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}